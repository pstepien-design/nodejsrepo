<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Time website</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
  </head>
  <body>
    <h1>Welcome to my website</h1>
    <h2>This is data about the time</h2>
    <div id="info">
      <div>
        <p>Your ip is:</p>
        <p id="ip"></p>
      </div>
      <div>
        <p>Timezone:</p>
        <p id="timeZone"></p>
      </div>
      <div>
        <p>Date and time right now is:</p>
        <p id="date"></p>
      </div>
      <div>
        <p>Day of the week:</p>
        <p id="weekDay"></p>
      </div>
      <div>
        <p>Week number:</p>
        <p id="weekNumber"></p>
      </div>
      <div>
        <p>Day of the year:</p>
        <p id="yearDay"></p>
      </div>
    </div>
  </body>
</html>
<script>
  const fetchData = () => {
    fetch('http://worldtimeapi.org/api/timezone/Europe/Copenhagen')
      .then((response) => response.json())
      .then((info) => {
        console.log(info.datetime);
        const dateText = info.datetime.split('');
        let todayDate = '';
        let currentTime = '';
        for (let i = 0; i < 10; i++) {
          todayDate += dateText[i];
        }
        for(let i=11; i<19; i++){
          currentTime += dateText[i];
        }
        console.log(todayDate);

        const ip = document.getElementById('ip');
        const timeZone = document.getElementById('timeZone');
        const date = document.getElementById('date');
        const weekDay = document.getElementById('weekDay');
        const weekNumber = document.getElementById('weekNumber');
        const yearDay = document.getElementById('yearDay');

        ip.innerHTML = info.client_ip;
        timeZone.innerHTML = info.timezone;
        date.innerHTML = todayDate + ' ' + currentTime;
        weekDay.innerHTML = info.day_of_week;
        weekNumber.innerHTML = info.week_number;
        yearDay.innerHTML = info.day_of_year;

        /*  res.send(`
      <p>Your ip is: info.client_ip}
      <p>Timezone: info.timezone}
      <p>Date and time right now is: info.datetime}
      <p>Day of the week: info.day_of_week}
      <p>Week number: info.week_number}
      <p>Day of the year: info.day_of_year}
      </p>`); */
      });
  };
  fetchData();
</script>
